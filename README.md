# Code4Rice3K

This workflow is designed for the study of relationships among rice cultivars from the [3k Rice Genome project (3kRGP)](http://gigadb.org/dataset/200001).It utilizes the GATK tools developed by the Broad Institute, along with other third-party tools, to generate VCF files containing all of the called sites in a given cultivar. 
It also generate VCF files for each chromosome in the cultivar with indels, Multiple Nucleotide Polymorphisms, and any uncalled or heterozygous sites removed. 
The output of this workflow is a tree file showing the relationship among all processed cultivars.

**As of 2017-08-03 this workflow has been successfully tested on Indiana University's Karst and Carbonate HPC clusters.**

## Getting Started

First, please see the `INSTALL.md` file. 
There you will find instructions for how to obtain this workflow and install prerequisite software, and then run the setup script. 
Next, read the `HOWTO` file for instructions and examples of using this workflow. 

## Overview of Directories

After running this workflow you will end up having a number of files in directories created by the `setup.sh` script.
* `maps/`: Downloaded BAM read alignment files of the rice cultivars.
* `calls/`: gVCF and VCF files that result from running the HaplotypeCaller and GenotypeGVCFs tools, respectively.
* `split/`: Individual VCF files for each chromosome of each cultivar.
* `merges/`: VCF files that only contain sites that were called in all of the tested cultivars and have a SNP in at least one of the cultivars.
* `alignments/`: FASTA "alignments" generated by randomly subsampling sites from the merge, and the RAxML tree files generated from these alignments. 

## Reference

* 3K R.G.P. The 3,000 rice genomes project. GigaScience 2014, 3:7 
[Article](https://gigascience.biomedcentral.com/articles/10.1186/2047-217X-3-7)
